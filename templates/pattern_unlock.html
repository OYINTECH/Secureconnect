{% extends "base.html" %}
{% block title %}Emoji Pattern Unlock{% endblock %}
{% block content %}

<h2 class="mb-4">Enter Your Emoji Pattern</h2>

<form method="POST">
    <input type="hidden" name="pattern" id="pattern" value="">

    <div class="d-flex flex-wrap justify-content-center" style="width: 180px; margin: 0 auto;">
        {% for i in range(1, 10) %}
            <button type="button" class="btn btn-light m-1 emoji-btn"
                    data-value="{{ i }}"
                    style="width: 50px; height: 50px; font-size: 1.5rem;">
                {{ ['ğŸ˜€','ğŸ˜‚','ğŸ˜','ğŸ˜','ğŸ˜¡','ğŸ˜±','ğŸ˜­','ğŸ˜´','ğŸ¤–'][i-1] }}
            </button>
        {% endfor %}
    </div>

    <button type="submit" class="btn btn-primary mt-3">Submit Pattern</button>
</form>

<!-- JavaScript to track the pattern -->
<script>
    const patternInput = document.getElementById('pattern');
    const emojiButtons = document.querySelectorAll('.emoji-btn');
    let pattern = [];

    emojiButtons.forEach(btn => {
        btn.addEventListener('click', () => {
            const value = btn.getAttribute('data-value');
            if (!pattern.includes(value)) {
                pattern.push(value);
                btn.disabled = true;
                btn.innerText = 'âœ”';
                patternInput.value = pattern.join('');
            }
        });
    });
</script>

{% endblock %}
